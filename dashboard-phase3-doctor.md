# ğŸ‘¨â€âš•ï¸ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© - Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø·Ø¨ÙŠØ¨

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø©

Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØªØ±ÙƒØ² Ø¹Ù„Ù‰:
- ØªØ·ÙˆÙŠØ± Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ ÙˆØ§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰ ÙˆØ§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª
- Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù„Ø·Ø¨ÙŠØ¨

---

## ğŸ¯ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### **1. Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø·Ø¨ÙŠØ¨**
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© (Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…ØŒ Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø¬Ø¯Ø¯)
- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…
- Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø·Ø¨ÙŠØ¨
- Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø£Ø®ÙŠØ±ÙŠÙ†

### **2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ**
- Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
- Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ‚Ø§Øª Ù…ØªØ§Ø­Ø©
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª
- ØªØ®ØµÙŠØµ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª

### **3. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰**
- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰
- Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±Ø¶Ù‰
- Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨ÙŠ
- Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©

### **4. Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª**
- Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©
- Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø¤Ø¬Ù„Ø©
- Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
- ÙƒØªØ§Ø¨Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

### **5. Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª**
- ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø±Ø¶Ù‰
- Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª
- Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª

---

## ğŸ—ï¸ Ù‡ÙŠÙƒÙ„ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø·Ø¨ÙŠØ¨

```
src/pages/doctor/
â”œâ”€â”€ Dashboard.tsx              # Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”œâ”€â”€ Schedule.tsx              # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
â”œâ”€â”€ Patients.tsx              # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰
â”œâ”€â”€ Consultations.tsx         # Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª
â”œâ”€â”€ Reports.tsx               # Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
â””â”€â”€ Profile.tsx               # Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
```

---

## ğŸ“Š Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø·Ø¨ÙŠØ¨

### **Doctor Dashboard Component**

```typescript
// src/pages/doctor/Dashboard.tsx
import React from 'react';
import { useQuery } from '@tanstack/react-query';
import { StatsCard } from '@/components/cards/StatsCard';
import { TodaySchedule } from '@/components/cards/TodaySchedule';
import { RecentPatients } from '@/components/tables/RecentPatients';
import { PerformanceChart } from '@/components/charts/PerformanceChart';
import { QuickActions } from '@/components/cards/QuickActions';
import { doctorService } from '@/services/doctorService';

export const DoctorDashboard: React.FC = () => {
  const { data: stats } = useQuery({
    queryKey: ['doctorStats'],
    queryFn: doctorService.getStats,
  });

  const { data: todaySchedule } = useQuery({
    queryKey: ['todaySchedule'],
    queryFn: doctorService.getTodaySchedule,
  });

  const { data: recentPatients } = useQuery({
    queryKey: ['recentPatients'],
    queryFn: doctorService.getRecentPatients,
  });

  return (
    <div className="space-y-6">
      {/* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <StatsCard
          title="Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…"
          value={stats?.todayAppointments || 0}
          icon="ğŸ“…"
          color="blue"
          trend="+3"
          trendText="Ù…Ù† Ø§Ù„Ø£Ù…Ø³"
        />
        <StatsCard
          title="Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø¬Ø¯Ø¯"
          value={stats?.newPatients || 0}
          icon="ğŸ‘¥"
          color="green"
          trend="+2"
          trendText="Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"
        />
        <StatsCard
          title="Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©"
          value={stats?.completedConsultations || 0}
          icon="âœ…"
          color="purple"
          trend="+5"
          trendText="Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"
        />
        <StatsCard
          title="Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©"
          value={`$${stats?.monthlyRevenue || 0}`}
          icon="ğŸ’°"
          color="orange"
          trend="+12%"
          trendText="Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ"
        />
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ… */}
        <TodaySchedule schedule={todaySchedule || []} />
        
        {/* Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø·Ø¨ÙŠØ¨ */}
        <PerformanceChart data={stats?.performance} />
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø£Ø®ÙŠØ±ÙŠÙ† */}
        <div className="lg:col-span-2">
          <RecentPatients patients={recentPatients || []} />
        </div>
        
        {/* Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© */}
        <QuickActions />
      </div>
    </div>
  );
};
```

### **TodaySchedule Component**

```typescript
// src/components/cards/TodaySchedule.tsx
import React from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { Badge } from '@/components/ui/Badge';
import { Button } from '@/components/ui/Button';

interface ScheduleItem {
  id: string;
  time: string;
  patientName: string;
  type: 'in-person' | 'video';
  status: 'scheduled' | 'in-progress' | 'completed' | 'cancelled';
  reason?: string;
}

interface TodayScheduleProps {
  schedule: ScheduleItem[];
}

export const TodaySchedule: React.FC<TodayScheduleProps> = ({ schedule }) => {
  const getStatusColor = (status: string) => {
    switch (status) {
      case 'scheduled': return 'blue';
      case 'in-progress': return 'green';
      case 'completed': return 'purple';
      case 'cancelled': return 'red';
      default: return 'gray';
    }
  };

  const getStatusLabel = (status: string) => {
    switch (status) {
      case 'scheduled': return 'Ù…Ø¬Ø¯ÙˆÙ„';
      case 'in-progress': return 'Ø¬Ø§Ø±ÙŠ';
      case 'completed': return 'Ù…ÙƒØªÙ…Ù„';
      case 'cancelled': return 'Ù…Ù„ØºÙŠ';
      default: return 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
    }
  };

  return (
    <Card>
      <CardHeader>
        <CardTitle>Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…</CardTitle>
      </CardHeader>
      <CardContent>
        <div className="space-y-4">
          {schedule.length === 0 ? (
            <p className="text-center text-gray-500 py-4">
              Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…
            </p>
          ) : (
            schedule.map((item) => (
              <div
                key={item.id}
                className="flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50"
              >
                <div className="flex items-center space-x-4">
                  <div className="text-sm font-medium text-gray-900">
                    {item.time}
                  </div>
                  <div>
                    <p className="font-medium text-gray-900">
                      {item.patientName}
                    </p>
                    {item.reason && (
                      <p className="text-sm text-gray-500">{item.reason}</p>
                    )}
                  </div>
                </div>
                
                <div className="flex items-center space-x-2">
                  <Badge variant={item.type === 'video' ? 'blue' : 'green'}>
                    {item.type === 'video' ? 'ÙÙŠØ¯ÙŠÙˆ' : 'Ø­Ø¶ÙˆØ±ÙŠ'}
                  </Badge>
                  <Badge variant={getStatusColor(item.status)}>
                    {getStatusLabel(item.status)}
                  </Badge>
                  {item.status === 'scheduled' && (
                    <Button size="sm" variant="outline">
                      Ø¨Ø¯Ø¡
                    </Button>
                  )}
                </div>
              </div>
            ))
          )}
        </div>
      </CardContent>
    </Card>
  );
};
```

---

## ğŸ“… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ

### **Schedule Page**

```typescript
// src/pages/doctor/Schedule.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { Calendar } from '@/components/calendar/Calendar';
import { ScheduleForm } from '@/components/forms/ScheduleForm';
import { TimeSlots } from '@/components/cards/TimeSlots';
import { Button } from '@/components/ui/Button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { doctorService } from '@/services/doctorService';

export const DoctorSchedule: React.FC = () => {
  const [selectedDate, setSelectedDate] = useState(new Date());
  const [showScheduleForm, setShowScheduleForm] = useState(false);

  const { data: schedule } = useQuery({
    queryKey: ['doctorSchedule', selectedDate],
    queryFn: () => doctorService.getSchedule(selectedDate),
  });

  const handleAddSchedule = () => {
    setShowScheduleForm(true);
  };

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
        </h1>
        <Button
          onClick={handleAddSchedule}
          className="bg-primary-600 text-white"
        >
          Ø¥Ø¶Ø§ÙØ© ÙˆÙ‚Øª Ù…ØªØ§Ø­
        </Button>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* Ø§Ù„ØªÙ‚ÙˆÙŠÙ… */}
        <div className="lg:col-span-2">
          <Card>
            <CardHeader>
              <CardTitle>Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</CardTitle>
            </CardHeader>
            <CardContent>
              <Calendar
                selectedDate={selectedDate}
                onDateSelect={setSelectedDate}
                appointments={schedule?.appointments || []}
              />
            </CardContent>
          </Card>
        </div>

        {/* Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© */}
        <div>
          <TimeSlots
            date={selectedDate}
            slots={schedule?.availableSlots || []}
            onSlotSelect={(slot) => console.log('Selected slot:', slot)}
            onAddSlot={() => setShowScheduleForm(true)}
          />
        </div>
      </div>

      {showScheduleForm && (
        <ScheduleForm
          isOpen={showScheduleForm}
          onClose={() => setShowScheduleForm(false)}
          selectedDate={selectedDate}
        />
      )}
    </div>
  );
};
```

### **Calendar Component**

```typescript
// src/components/calendar/Calendar.tsx
import React from 'react';
import { format, startOfMonth, endOfMonth, eachDayOfInterval, isSameDay, isToday } from 'date-fns';
import { ar } from 'date-fns/locale';
import { Card, CardContent } from '@/components/ui/Card';

interface Appointment {
  id: string;
  date: string;
  time: string;
  patientName: string;
  type: 'in-person' | 'video';
  status: string;
}

interface CalendarProps {
  selectedDate: Date;
  onDateSelect: (date: Date) => void;
  appointments: Appointment[];
}

export const Calendar: React.FC<CalendarProps> = ({
  selectedDate,
  onDateSelect,
  appointments,
}) => {
  const monthStart = startOfMonth(selectedDate);
  const monthEnd = endOfMonth(selectedDate);
  const days = eachDayOfInterval({ start: monthStart, end: monthEnd });

  const getAppointmentsForDate = (date: Date) => {
    return appointments.filter(appointment => 
      isSameDay(new Date(appointment.date), date)
    );
  };

  const getAppointmentCount = (date: Date) => {
    return getAppointmentsForDate(date).length;
  };

  return (
    <Card>
      <CardContent>
        <div className="grid grid-cols-7 gap-1">
          {/* Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ */}
          {['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'].map(day => (
            <div key={day} className="p-2 text-center text-sm font-medium text-gray-500">
              {day}
            </div>
          ))}
          
          {/* Ø§Ù„Ø£ÙŠØ§Ù… */}
          {days.map(day => {
            const appointmentCount = getAppointmentCount(day);
            const isSelected = isSameDay(day, selectedDate);
            const isTodayDate = isToday(day);
            
            return (
              <button
                key={day.toISOString()}
                onClick={() => onDateSelect(day)}
                className={`
                  p-2 text-center text-sm rounded-md hover:bg-gray-100 transition-colors
                  ${isSelected ? 'bg-primary-600 text-white' : 'text-gray-900'}
                  ${isTodayDate && !isSelected ? 'bg-blue-100 text-blue-600' : ''}
                  ${appointmentCount > 0 ? 'font-semibold' : ''}
                `}
              >
                <div>{format(day, 'd')}</div>
                {appointmentCount > 0 && (
                  <div className="text-xs mt-1">
                    {appointmentCount} Ù…ÙˆØ¹Ø¯
                  </div>
                )}
              </button>
            );
          })}
        </div>
      </CardContent>
    </Card>
  );
};
```

---

## ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰

### **Patients Page**

```typescript
// src/pages/doctor/Patients.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { PatientsTable } from '@/components/tables/PatientsTable';
import { PatientFilters } from '@/components/forms/PatientFilters';
import { PatientModal } from '@/components/modals/PatientModal';
import { Button } from '@/components/ui/Button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { doctorService } from '@/services/doctorService';

export const DoctorPatients: React.FC = () => {
  const [filters, setFilters] = useState({
    search: '',
    status: '',
    dateRange: '',
  });
  const [showPatientModal, setShowPatientModal] = useState(false);
  const [selectedPatient, setSelectedPatient] = useState(null);

  const { data: patients, isLoading } = useQuery({
    queryKey: ['doctorPatients', filters],
    queryFn: () => doctorService.getPatients(filters),
  });

  const handleViewPatient = (patientId: string) => {
    setSelectedPatient(patientId);
    setShowPatientModal(true);
  };

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„Ù…Ø±Ø¶Ù‰
        </h1>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰</CardTitle>
        </CardHeader>
        <CardContent>
          <PatientFilters
            filters={filters}
            onFiltersChange={setFilters}
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰</CardTitle>
        </CardHeader>
        <CardContent>
          <PatientsTable
            patients={patients || []}
            loading={isLoading}
            onView={handleViewPatient}
            onEdit={(id) => console.log('Edit patient:', id)}
            onAddNote={(id) => console.log('Add note to patient:', id)}
          />
        </CardContent>
      </Card>

      {showPatientModal && (
        <PatientModal
          isOpen={showPatientModal}
          onClose={() => setShowPatientModal(false)}
          patientId={selectedPatient}
        />
      )}
    </div>
  );
};
```

### **PatientsTable Component**

```typescript
// src/components/tables/PatientsTable.tsx
import React from 'react';
import { useTable, useSortBy, useFilters } from 'react-table';
import { Table } from '@/components/ui/Table';
import { Button } from '@/components/ui/Button';
import { Badge } from '@/components/ui/Badge';

interface Patient {
  id: string;
  name: string;
  email: string;
  phone: string;
  age: number;
  gender: 'male' | 'female';
  lastVisit: string;
  status: 'active' | 'inactive';
  totalAppointments: number;
}

interface PatientsTableProps {
  patients: Patient[];
  loading?: boolean;
  onView?: (id: string) => void;
  onEdit?: (id: string) => void;
  onAddNote?: (id: string) => void;
}

export const PatientsTable: React.FC<PatientsTableProps> = ({
  patients,
  loading = false,
  onView,
  onEdit,
  onAddNote,
}) => {
  const columns = React.useMemo(
    () => [
      {
        Header: 'Ø§Ù„Ø§Ø³Ù…',
        accessor: 'name',
      },
      {
        Header: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
        accessor: 'email',
      },
      {
        Header: 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ',
        accessor: 'phone',
      },
      {
        Header: 'Ø§Ù„Ø¹Ù…Ø±',
        accessor: 'age',
      },
      {
        Header: 'Ø§Ù„Ø¬Ù†Ø³',
        accessor: 'gender',
        Cell: ({ value }: { value: string }) => (
          <span>{value === 'male' ? 'Ø°ÙƒØ±' : 'Ø£Ù†Ø«Ù‰'}</span>
        ),
      },
      {
        Header: 'Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©',
        accessor: 'lastVisit',
        Cell: ({ value }: { value: string }) => {
          const date = new Date(value);
          return date.toLocaleDateString('ar-SA');
        },
      },
      {
        Header: 'Ø§Ù„Ø­Ø§Ù„Ø©',
        accessor: 'status',
        Cell: ({ value }: { value: string }) => (
          <Badge variant={value === 'active' ? 'green' : 'red'}>
            {value === 'active' ? 'Ù†Ø´Ø·' : 'ØºÙŠØ± Ù†Ø´Ø·'}
          </Badge>
        ),
      },
      {
        Header: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯',
        accessor: 'totalAppointments',
      },
      {
        Header: 'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª',
        Cell: ({ row }: { row: any }) => (
          <div className="flex space-x-2">
            <Button
              size="sm"
              variant="outline"
              onClick={() => onView?.(row.original.id)}
            >
              Ø¹Ø±Ø¶
            </Button>
            <Button
              size="sm"
              variant="outline"
              onClick={() => onEdit?.(row.original.id)}
            >
              ØªØ¹Ø¯ÙŠÙ„
            </Button>
            <Button
              size="sm"
              variant="outline"
              onClick={() => onAddNote?.(row.original.id)}
            >
              Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø©
            </Button>
          </div>
        ),
      },
    ],
    [onView, onEdit, onAddNote]
  );

  const {
    getTableProps,
    getTableBodyProps,
    headerGroups,
    rows,
    prepareRow,
  } = useTable(
    {
      columns,
      data: patients,
    },
    useFilters,
    useSortBy
  );

  if (loading) {
    return (
      <div className="text-center py-8">
        <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"></div>
        <p className="mt-2 text-gray-600">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
      </div>
    );
  }

  if (patients.length === 0) {
    return (
      <div className="text-center py-8">
        <p className="text-gray-500">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø±Ø¶Ù‰</p>
      </div>
    );
  }

  return (
    <div className="overflow-x-auto">
      <Table {...getTableProps()}>
        <thead>
          {headerGroups.map(headerGroup => (
            <tr {...headerGroup.getHeaderGroupProps()}>
              {headerGroup.headers.map(column => (
                <th {...column.getHeaderProps(column.getSortByToggleProps())}>
                  {column.render('Header')}
                  <span>
                    {column.isSorted
                      ? column.isSortedDesc
                        ? ' ğŸ”½'
                        : ' ğŸ”¼'
                      : ''}
                  </span>
                </th>
              ))}
            </tr>
          ))}
        </thead>
        <tbody {...getTableBodyProps()}>
          {rows.map(row => {
            prepareRow(row);
            return (
              <tr {...row.getRowProps()}>
                {row.cells.map(cell => (
                  <td {...cell.getCellProps()}>
                    {cell.render('Cell')}
                  </td>
                ))}
              </tr>
            );
          })}
        </tbody>
      </Table>
    </div>
  );
};
```

---

## ğŸ©º Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª

### **Consultations Page**

```typescript
// src/pages/doctor/Consultations.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { ConsultationsTable } from '@/components/tables/ConsultationsTable';
import { ConsultationFilters } from '@/components/forms/ConsultationFilters';
import { ConsultationModal } from '@/components/modals/ConsultationModal';
import { Button } from '@/components/ui/Button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { doctorService } from '@/services/doctorService';

export const DoctorConsultations: React.FC = () => {
  const [filters, setFilters] = useState({
    status: '',
    dateRange: '',
    patient: '',
  });
  const [showConsultationModal, setShowConsultationModal] = useState(false);
  const [selectedConsultation, setSelectedConsultation] = useState(null);

  const { data: consultations, isLoading } = useQuery({
    queryKey: ['doctorConsultations', filters],
    queryFn: () => doctorService.getConsultations(filters),
  });

  const handleStartConsultation = (consultationId: string) => {
    setSelectedConsultation(consultationId);
    setShowConsultationModal(true);
  };

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª
        </h1>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>ÙÙ„ØªØ±Ø© Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª</CardTitle>
        </CardHeader>
        <CardContent>
          <ConsultationFilters
            filters={filters}
            onFiltersChange={setFilters}
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª</CardTitle>
        </CardHeader>
        <CardContent>
          <ConsultationsTable
            consultations={consultations || []}
            loading={isLoading}
            onStart={handleStartConsultation}
            onView={(id) => console.log('View consultation:', id)}
            onComplete={(id) => console.log('Complete consultation:', id)}
          />
        </CardContent>
      </Card>

      {showConsultationModal && (
        <ConsultationModal
          isOpen={showConsultationModal}
          onClose={() => setShowConsultationModal(false)}
          consultationId={selectedConsultation}
        />
      )}
    </div>
  );
};
```

---

## ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

### **Reports Page**

```typescript
// src/pages/doctor/Reports.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/Tabs';
import { PerformanceReport } from '@/components/reports/PerformanceReport';
import { PatientReport } from '@/components/reports/PatientReport';
import { RevenueReport } from '@/components/reports/RevenueReport';
import { AppointmentReport } from '@/components/reports/AppointmentReport';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { doctorService } from '@/services/doctorService';

export const DoctorReports: React.FC = () => {
  const [activeTab, setActiveTab] = useState('performance');
  const [dateRange, setDateRange] = useState({
    start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000), // 30 days ago
    end: new Date(),
  });

  const { data: reportsData, isLoading } = useQuery({
    queryKey: ['doctorReports', dateRange],
    queryFn: () => doctorService.getReports(dateRange),
  });

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        </h1>
      </div>

      <Card>
        <CardContent>
          <Tabs value={activeTab} onValueChange={setActiveTab}>
            <TabsList className="grid w-full grid-cols-4">
              <TabsTrigger value="performance">Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø·Ø¨ÙŠØ¨</TabsTrigger>
              <TabsTrigger value="patients">Ø§Ù„Ù…Ø±Ø¶Ù‰</TabsTrigger>
              <TabsTrigger value="revenue">Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</TabsTrigger>
              <TabsTrigger value="appointments">Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯</TabsTrigger>
            </TabsList>

            <TabsContent value="performance">
              <PerformanceReport 
                data={reportsData?.performance} 
                loading={isLoading}
              />
            </TabsContent>

            <TabsContent value="patients">
              <PatientReport 
                data={reportsData?.patients} 
                loading={isLoading}
              />
            </TabsContent>

            <TabsContent value="revenue">
              <RevenueReport 
                data={reportsData?.revenue} 
                loading={isLoading}
              />
            </TabsContent>

            <TabsContent value="appointments">
              <AppointmentReport 
                data={reportsData?.appointments} 
                loading={isLoading}
              />
            </TabsContent>
          </Tabs>
        </CardContent>
      </Card>
    </div>
  );
};
```

### **PerformanceReport Component**

```typescript
// src/components/reports/PerformanceReport.tsx
import React from 'react';
import { LineChart } from '@/components/charts/LineChart';
import { BarChart } from '@/components/charts/BarChart';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';

interface PerformanceReportProps {
  data: {
    dailyAppointments: Array<{ date: string; count: number }>;
    monthlyRevenue: Array<{ month: string; amount: number }>;
    patientSatisfaction: Array<{ month: string; rating: number }>;
    averageConsultationTime: number;
    totalPatients: number;
    completionRate: number;
  };
  loading?: boolean;
}

export const PerformanceReport: React.FC<PerformanceReportProps> = ({
  data,
  loading = false,
}) => {
  if (loading) {
    return (
      <div className="text-center py-8">
        <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"></div>
        <p className="mt-2 text-gray-600">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
      </div>
    );
  }

  const appointmentsData = {
    labels: data.dailyAppointments.map(item => item.date),
    datasets: [
      {
        label: 'Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©',
        data: data.dailyAppointments.map(item => item.count),
        borderColor: 'rgb(59, 130, 246)',
        backgroundColor: 'rgba(59, 130, 246, 0.1)',
      },
    ],
  };

  const revenueData = {
    labels: data.monthlyRevenue.map(item => item.month),
    datasets: [
      {
        label: 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©',
        data: data.monthlyRevenue.map(item => item.amount),
        backgroundColor: 'rgba(34, 197, 94, 0.8)',
        borderColor: 'rgb(34, 197, 94)',
      },
    ],
  };

  return (
    <div className="space-y-6">
      {/* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
        <Card>
          <CardHeader>
            <CardTitle>Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø©</CardTitle>
          </CardHeader>
          <CardContent>
            <p className="text-2xl font-bold text-primary-600">
              {data.averageConsultationTime} Ø¯Ù‚ÙŠÙ‚Ø©
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±Ø¶Ù‰</CardTitle>
          </CardHeader>
          <CardContent>
            <p className="text-2xl font-bold text-green-600">
              {data.totalPatients}
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„</CardTitle>
          </CardHeader>
          <CardContent>
            <p className="text-2xl font-bold text-purple-600">
              {data.completionRate}%
            </p>
          </CardContent>
        </Card>
      </div>

      {/* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© */}
      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <Card>
          <CardHeader>
            <CardTitle>Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</CardTitle>
          </CardHeader>
          <CardContent>
            <LineChart data={appointmentsData} height={300} />
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle>Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</CardTitle>
          </CardHeader>
          <CardContent>
            <BarChart data={revenueData} height={300} />
          </CardContent>
        </Card>
      </div>
    </div>
  );
};
```

---

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

### **1. Doctor Dashboard Test**

```typescript
// src/pages/doctor/__tests__/Dashboard.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { DoctorDashboard } from '../Dashboard';

const createTestQueryClient = () => new QueryClient({
  defaultOptions: {
    queries: { retry: false },
    mutations: { retry: false },
  },
});

describe('Doctor Dashboard', () => {
  it('renders dashboard with stats cards', () => {
    const queryClient = createTestQueryClient();
    
    render(
      <QueryClientProvider client={queryClient}>
        <DoctorDashboard />
      </QueryClientProvider>
    );
    
    expect(screen.getByText('Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙŠÙˆÙ…')).toBeInTheDocument();
    expect(screen.getByText('Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø§Ù„Ø¬Ø¯Ø¯')).toBeInTheDocument();
  });
});
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©

1. **ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨**: ÙˆØ§Ø¬Ù‡Ø© Ù…Ø®ØµØµØ© Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡
2. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª**: Ø£Ø¯ÙˆØ§Øª ÙØ¹Ø§Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
3. **Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰**: Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰
4. **Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±**: ØªÙ‚Ø§Ø±ÙŠØ± Ù…ÙØµÙ„Ø© Ø¹Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
5. **Ø§Ù„Ø£Ù…Ø§Ù†**: Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø³Ø©

---

*ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ù„ØªÙˆÙÙŠØ± ØªØ¬Ø±Ø¨Ø© Ø·Ø¨ÙŠØ¨ Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ØªØ·ÙˆØ±Ø©*
