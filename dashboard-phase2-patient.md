# ğŸ¥ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© - Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø±ÙŠØ¶

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø­Ù„Ø©

Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØªØ±ÙƒØ² Ø¹Ù„Ù‰:
- ØªØ·ÙˆÙŠØ± Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø±ÙŠØ¶ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ ÙˆØ§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª
- Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø·Ø¨ÙŠ ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ

---

## ğŸ¯ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### **1. Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø±ÙŠØ¶**
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© (Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©ØŒ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©)
- Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
- Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
- Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø®ÙŠØ±Ø©

### **2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯**
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
- Ø­Ø¬Ø² Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø¬Ø¯ÙŠØ¯Ø©
- Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
- Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
- ÙÙ„ØªØ±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯

### **3. Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª**
- Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
- Ø¨Ø¯Ø¡ Ø§Ø³ØªØ´Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©
- Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„ØµÙˆØ±
- ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª

### **4. Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø·Ø¨ÙŠ**
- Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨ÙŠ
- Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª
- Ø§Ù„Ø£Ø¯ÙˆÙŠØ©
- Ø§Ù„ØªØ­Ø§Ù„ÙŠÙ„ ÙˆØ§Ù„ÙØ­ÙˆØµØ§Øª

### **5. Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª**
- Ø¹Ø±Ø¶ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- Ø¯ÙØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª

---

## ğŸ—ï¸ Ù‡ÙŠÙƒÙ„ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø±ÙŠØ¶

```
src/pages/patient/
â”œâ”€â”€ Dashboard.tsx              # Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”œâ”€â”€ Appointments.tsx           # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
â”œâ”€â”€ Consultations.tsx          # Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª
â”œâ”€â”€ MedicalRecord.tsx          # Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø·Ø¨ÙŠ
â”œâ”€â”€ Payments.tsx               # Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
â””â”€â”€ Profile.tsx                # Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
```

---

## ğŸ“Š Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù…Ø±ÙŠØ¶

### **Dashboard Component**

```typescript
// src/pages/patient/Dashboard.tsx
import React from 'react';
import { useQuery } from '@tanstack/react-query';
import { StatsCard } from '@/components/cards/StatsCard';
import { RecentAppointments } from '@/components/tables/RecentAppointments';
import { UpcomingAppointments } from '@/components/cards/UpcomingAppointments';
import { QuickActions } from '@/components/cards/QuickActions';
import { patientService } from '@/services/patientService';

export const PatientDashboard: React.FC = () => {
  const { data: stats } = useQuery({
    queryKey: ['patientStats'],
    queryFn: patientService.getStats,
  });

  const { data: appointments } = useQuery({
    queryKey: ['patientAppointments'],
    queryFn: patientService.getAppointments,
  });

  return (
    <div className="space-y-6">
      {/* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <StatsCard
          title="Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©"
          value={stats?.upcomingAppointments || 0}
          icon="ğŸ“…"
          color="blue"
          trend="+2"
          trendText="Ù…Ù† Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ"
        />
        <StatsCard
          title="Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©"
          value={stats?.completedConsultations || 0}
          icon="âœ…"
          color="green"
          trend="+5"
          trendText="Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ"
        />
        <StatsCard
          title="Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù…Ø¤Ø¬Ù„Ø©"
          value={stats?.rescheduledAppointments || 0}
          icon="ğŸ”„"
          color="orange"
          trend="0"
          trendText="Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"
        />
        <StatsCard
          title="Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©"
          value={stats?.pendingPayments || 0}
          icon="ğŸ’°"
          color="red"
          trend="-1"
          trendText="Ù…Ù† Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ"
        />
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {/* Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© */}
        <UpcomingAppointments appointments={appointments?.upcoming || []} />
        
        {/* Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© */}
        <QuickActions />
      </div>

      {/* Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø®ÙŠØ±Ø© */}
      <RecentAppointments appointments={appointments?.recent || []} />
    </div>
  );
};
```

### **StatsCard Component**

```typescript
// src/components/cards/StatsCard.tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface StatsCardProps {
  title: string;
  value: string | number;
  icon: string;
  color: 'blue' | 'green' | 'orange' | 'red' | 'purple';
  trend?: string;
  trendText?: string;
  className?: string;
}

export const StatsCard: React.FC<StatsCardProps> = ({
  title,
  value,
  icon,
  color,
  trend,
  trendText,
  className,
}) => {
  const colorClasses = {
    blue: 'bg-blue-50 border-blue-200 text-blue-600',
    green: 'bg-green-50 border-green-200 text-green-600',
    orange: 'bg-orange-50 border-orange-200 text-orange-600',
    red: 'bg-red-50 border-red-200 text-red-600',
    purple: 'bg-purple-50 border-purple-200 text-purple-600',
  };

  const trendClasses = {
    positive: 'text-green-600',
    negative: 'text-red-600',
    neutral: 'text-gray-600',
  };

  const getTrendClass = (trend: string) => {
    if (trend.startsWith('+')) return trendClasses.positive;
    if (trend.startsWith('-')) return trendClasses.negative;
    return trendClasses.neutral;
  };

  return (
    <div className={cn(
      'bg-white rounded-lg border p-6',
      colorClasses[color],
      className
    )}>
      <div className="flex items-center justify-between">
        <div>
          <p className="text-sm font-medium text-gray-600">{title}</p>
          <p className="text-2xl font-bold text-gray-900">{value}</p>
          {trend && trendText && (
            <p className={cn('text-xs mt-1', getTrendClass(trend))}>
              {trend} {trendText}
            </p>
          )}
        </div>
        <div className="text-3xl">{icon}</div>
      </div>
    </div>
  );
};
```

---

## ğŸ“… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯

### **Appointments Page**

```typescript
// src/pages/patient/Appointments.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { AppointmentsTable } from '@/components/tables/AppointmentsTable';
import { AppointmentFilters } from '@/components/forms/AppointmentFilters';
import { BookAppointmentModal } from '@/components/modals/BookAppointmentModal';
import { Button } from '@/components/ui/Button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { appointmentService } from '@/services/appointmentService';

export const PatientAppointments: React.FC = () => {
  const [filters, setFilters] = useState({
    status: '',
    dateRange: '',
    doctor: '',
  });
  const [showBookModal, setShowBookModal] = useState(false);

  const { data: appointments, isLoading } = useQuery({
    queryKey: ['patientAppointments', filters],
    queryFn: () => appointmentService.getPatientAppointments(filters),
  });

  const handleReschedule = async (appointmentId: string) => {
    // Logic for rescheduling appointment
    console.log('Rescheduling appointment:', appointmentId);
  };

  const handleCancel = async (appointmentId: string) => {
    // Logic for canceling appointment
    console.log('Canceling appointment:', appointmentId);
  };

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ù…ÙˆØ§Ø¹ÙŠØ¯ÙŠ
        </h1>
        <Button
          onClick={() => setShowBookModal(true)}
          className="bg-primary-600 text-white"
        >
          Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯
        </Button>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>ÙÙ„ØªØ±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯</CardTitle>
        </CardHeader>
        <CardContent>
          <AppointmentFilters
            filters={filters}
            onFiltersChange={setFilters}
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯</CardTitle>
        </CardHeader>
        <CardContent>
          <AppointmentsTable
            appointments={appointments || []}
            loading={isLoading}
            onReschedule={handleReschedule}
            onCancel={handleCancel}
            onView={(id) => console.log('View appointment:', id)}
          />
        </CardContent>
      </Card>

      {showBookModal && (
        <BookAppointmentModal
          isOpen={showBookModal}
          onClose={() => setShowBookModal(false)}
        />
      )}
    </div>
  );
};
```

### **AppointmentsTable Component**

```typescript
// src/components/tables/AppointmentsTable.tsx
import React from 'react';
import { useTable, useSortBy, useFilters } from 'react-table';
import { Table } from '@/components/ui/Table';
import { Button } from '@/components/ui/Button';
import { Badge } from '@/components/ui/Badge';

interface Appointment {
  id: string;
  patientName: string;
  doctorName: string;
  date: string;
  time: string;
  status: string;
  type: string;
  reason?: string;
}

interface AppointmentsTableProps {
  appointments: Appointment[];
  loading?: boolean;
  onReschedule?: (id: string) => void;
  onCancel?: (id: string) => void;
  onView?: (id: string) => void;
}

export const AppointmentsTable: React.FC<AppointmentsTableProps> = ({
  appointments,
  loading = false,
  onReschedule,
  onCancel,
  onView,
}) => {
  const columns = React.useMemo(
    () => [
      {
        Header: 'Ø§Ù„Ù…Ø±ÙŠØ¶',
        accessor: 'patientName',
      },
      {
        Header: 'Ø§Ù„Ø·Ø¨ÙŠØ¨',
        accessor: 'doctorName',
      },
      {
        Header: 'Ø§Ù„ØªØ§Ø±ÙŠØ®',
        accessor: 'date',
        Cell: ({ value }: { value: string }) => {
          const date = new Date(value);
          return date.toLocaleDateString('ar-SA');
        },
      },
      {
        Header: 'Ø§Ù„ÙˆÙ‚Øª',
        accessor: 'time',
      },
      {
        Header: 'Ø§Ù„Ù†ÙˆØ¹',
        accessor: 'type',
        Cell: ({ value }: { value: string }) => (
          <Badge variant={value === 'video' ? 'blue' : 'green'}>
            {value === 'video' ? 'ÙÙŠØ¯ÙŠÙˆ' : 'Ø­Ø¶ÙˆØ±ÙŠ'}
          </Badge>
        ),
      },
      {
        Header: 'Ø§Ù„Ø­Ø§Ù„Ø©',
        accessor: 'status',
        Cell: ({ value }: { value: string }) => {
          const statusColors = {
            scheduled: 'blue',
            confirmed: 'green',
            completed: 'purple',
            cancelled: 'red',
            rescheduled: 'orange',
          };
          const statusLabels = {
            scheduled: 'Ù…Ø¬Ø¯ÙˆÙ„',
            confirmed: 'Ù…Ø¤ÙƒØ¯',
            completed: 'Ù…ÙƒØªÙ…Ù„',
            cancelled: 'Ù…Ù„ØºÙŠ',
            rescheduled: 'Ù…Ø¤Ø¬Ù„',
          };
          return (
            <Badge variant={statusColors[value as keyof typeof statusColors]}>
              {statusLabels[value as keyof typeof statusLabels]}
            </Badge>
          );
        },
      },
      {
        Header: 'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª',
        Cell: ({ row }: { row: any }) => (
          <div className="flex space-x-2">
            <Button
              size="sm"
              variant="outline"
              onClick={() => onView?.(row.original.id)}
            >
              Ø¹Ø±Ø¶
            </Button>
            {row.original.status === 'scheduled' && (
              <>
                <Button
                  size="sm"
                  variant="outline"
                  onClick={() => onReschedule?.(row.original.id)}
                >
                  Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø©
                </Button>
                <Button
                  size="sm"
                  variant="outline"
                  onClick={() => onCancel?.(row.original.id)}
                >
                  Ø¥Ù„ØºØ§Ø¡
                </Button>
              </>
            )}
          </div>
        ),
      },
    ],
    [onReschedule, onCancel, onView]
  );

  const {
    getTableProps,
    getTableBodyProps,
    headerGroups,
    rows,
    prepareRow,
  } = useTable(
    {
      columns,
      data: appointments,
    },
    useFilters,
    useSortBy
  );

  if (loading) {
    return (
      <div className="text-center py-8">
        <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"></div>
        <p className="mt-2 text-gray-600">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
      </div>
    );
  }

  if (appointments.length === 0) {
    return (
      <div className="text-center py-8">
        <p className="text-gray-500">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¹ÙŠØ¯</p>
      </div>
    );
  }

  return (
    <div className="overflow-x-auto">
      <Table {...getTableProps()}>
        <thead>
          {headerGroups.map(headerGroup => (
            <tr {...headerGroup.getHeaderGroupProps()}>
              {headerGroup.headers.map(column => (
                <th {...column.getHeaderProps(column.getSortByToggleProps())}>
                  {column.render('Header')}
                  <span>
                    {column.isSorted
                      ? column.isSortedDesc
                        ? ' ğŸ”½'
                        : ' ğŸ”¼'
                      : ''}
                  </span>
                </th>
              ))}
            </tr>
          ))}
        </thead>
        <tbody {...getTableBodyProps()}>
          {rows.map(row => {
            prepareRow(row);
            return (
              <tr {...row.getRowProps()}>
                {row.cells.map(cell => (
                  <td {...cell.getCellProps()}>
                    {cell.render('Cell')}
                  </td>
                ))}
              </tr>
            );
          })}
        </tbody>
      </Table>
    </div>
  );
};
```

---

## ğŸ©º Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª

### **Consultations Page**

```typescript
// src/pages/patient/Consultations.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { ConsultationsTable } from '@/components/tables/ConsultationsTable';
import { ConsultationFilters } from '@/components/forms/ConsultationFilters';
import { StartConsultationModal } from '@/components/modals/StartConsultationModal';
import { Button } from '@/components/ui/Button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { consultationService } from '@/services/consultationService';

export const PatientConsultations: React.FC = () => {
  const [filters, setFilters] = useState({
    status: '',
    dateRange: '',
    doctor: '',
  });
  const [showStartModal, setShowStartModal] = useState(false);

  const { data: consultations, isLoading } = useQuery({
    queryKey: ['patientConsultations', filters],
    queryFn: () => consultationService.getPatientConsultations(filters),
  });

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª
        </h1>
        <Button
          onClick={() => setShowStartModal(true)}
          className="bg-primary-600 text-white"
        >
          Ø¨Ø¯Ø¡ Ø§Ø³ØªØ´Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©
        </Button>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>ÙÙ„ØªØ±Ø© Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª</CardTitle>
        </CardHeader>
        <CardContent>
          <ConsultationFilters
            filters={filters}
            onFiltersChange={setFilters}
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª</CardTitle>
        </CardHeader>
        <CardContent>
          <ConsultationsTable
            consultations={consultations || []}
            loading={isLoading}
            onView={(id) => console.log('View consultation:', id)}
            onRate={(id) => console.log('Rate consultation:', id)}
          />
        </CardContent>
      </Card>

      {showStartModal && (
        <StartConsultationModal
          isOpen={showStartModal}
          onClose={() => setShowStartModal(false)}
        />
      )}
    </div>
  );
};
```

---

## ğŸ“‹ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø·Ø¨ÙŠ

### **MedicalRecord Page**

```typescript
// src/pages/patient/MedicalRecord.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/Tabs';
import { MedicalHistory } from '@/components/medical/MedicalHistory';
import { Vaccinations } from '@/components/medical/Vaccinations';
import { Medications } from '@/components/medical/Medications';
import { LabResults } from '@/components/medical/LabResults';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { patientService } from '@/services/patientService';

export const PatientMedicalRecord: React.FC = () => {
  const [activeTab, setActiveTab] = useState('history');

  const { data: medicalData, isLoading } = useQuery({
    queryKey: ['patientMedicalRecord'],
    queryFn: patientService.getMedicalRecord,
  });

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø·Ø¨ÙŠ
        </h1>
      </div>

      <Card>
        <CardContent>
          <Tabs value={activeTab} onValueChange={setActiveTab}>
            <TabsList className="grid w-full grid-cols-4">
              <TabsTrigger value="history">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨ÙŠ</TabsTrigger>
              <TabsTrigger value="vaccinations">Ø§Ù„ØªØ·Ø¹ÙŠÙ…Ø§Øª</TabsTrigger>
              <TabsTrigger value="medications">Ø§Ù„Ø£Ø¯ÙˆÙŠØ©</TabsTrigger>
              <TabsTrigger value="lab-results">Ø§Ù„ØªØ­Ø§Ù„ÙŠÙ„</TabsTrigger>
            </TabsList>

            <TabsContent value="history">
              <MedicalHistory 
                history={medicalData?.history || []} 
                loading={isLoading}
              />
            </TabsContent>

            <TabsContent value="vaccinations">
              <Vaccinations 
                vaccinations={medicalData?.vaccinations || []} 
                loading={isLoading}
              />
            </TabsContent>

            <TabsContent value="medications">
              <Medications 
                medications={medicalData?.medications || []} 
                loading={isLoading}
              />
            </TabsContent>

            <TabsContent value="lab-results">
              <LabResults 
                labResults={medicalData?.labResults || []} 
                loading={isLoading}
              />
            </TabsContent>
          </Tabs>
        </CardContent>
      </Card>
    </div>
  );
};
```

---

## ğŸ’° Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª

### **Payments Page**

```typescript
// src/pages/patient/Payments.tsx
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { PaymentsTable } from '@/components/tables/PaymentsTable';
import { PaymentFilters } from '@/components/forms/PaymentFilters';
import { PaymentModal } from '@/components/modals/PaymentModal';
import { Button } from '@/components/ui/Button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { paymentService } from '@/services/paymentService';

export const PatientPayments: React.FC = () => {
  const [filters, setFilters] = useState({
    status: '',
    dateRange: '',
    amount: '',
  });
  const [showPaymentModal, setShowPaymentModal] = useState(false);
  const [selectedPayment, setSelectedPayment] = useState(null);

  const { data: payments, isLoading } = useQuery({
    queryKey: ['patientPayments', filters],
    queryFn: () => paymentService.getPatientPayments(filters),
  });

  const handlePay = (paymentId: string) => {
    setSelectedPayment(paymentId);
    setShowPaymentModal(true);
  };

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
        </h1>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</CardTitle>
        </CardHeader>
        <CardContent>
          <PaymentFilters
            filters={filters}
            onFiltersChange={setFilters}
          />
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</CardTitle>
        </CardHeader>
        <CardContent>
          <PaymentsTable
            payments={payments || []}
            loading={isLoading}
            onPay={handlePay}
            onView={(id) => console.log('View payment:', id)}
          />
        </CardContent>
      </Card>

      {showPaymentModal && (
        <PaymentModal
          isOpen={showPaymentModal}
          onClose={() => setShowPaymentModal(false)}
          paymentId={selectedPayment}
        />
      )}
    </div>
  );
};
```

---

## ğŸ‘¤ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ

### **Profile Page**

```typescript
// src/pages/patient/Profile.tsx
import React, { useState } from 'react';
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';
import { Button } from '@/components/ui/Button';
import { Input } from '@/components/ui/Input';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';
import { useAuth } from '@/hooks/useAuth';
import { userService } from '@/services/userService';

const profileSchema = z.object({
  name: z.string().min(2, 'Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø­Ø±ÙÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„'),
  email: z.string().email('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­'),
  phone: z.string().min(10, 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„'),
  dateOfBirth: z.string().min(1, 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ù…Ø·Ù„ÙˆØ¨'),
  gender: z.enum(['male', 'female']),
  address: z.string().min(10, 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„'),
});

type ProfileFormData = z.infer<typeof profileSchema>;

export const PatientProfile: React.FC = () => {
  const { user } = useAuth();
  const [isLoading, setIsLoading] = useState(false);
  const [message, setMessage] = useState('');

  const {
    register,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<ProfileFormData>({
    resolver: zodResolver(profileSchema),
    defaultValues: {
      name: user?.name || '',
      email: user?.email || '',
      phone: user?.phone || '',
      dateOfBirth: user?.dateOfBirth || '',
      gender: user?.gender || 'male',
      address: user?.address || '',
    },
  });

  const onSubmit = async (data: ProfileFormData) => {
    setIsLoading(true);
    setMessage('');
    
    try {
      await userService.updateProfile(data);
      setMessage('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­');
    } catch (error: any) {
      setMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-2xl font-bold text-gray-900">
          Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        </h1>
      </div>

      <Card>
        <CardHeader>
          <CardTitle>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</CardTitle>
        </CardHeader>
        <CardContent>
          <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
            {message && (
              <div className={`p-4 rounded-md ${
                message.includes('Ù†Ø¬Ø­') 
                  ? 'bg-green-50 text-green-700 border border-green-200' 
                  : 'bg-red-50 text-red-700 border border-red-200'
              }`}>
                {message}
              </div>
            )}

            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <Input
                label="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"
                {...register('name')}
                error={errors.name?.message}
              />

              <Input
                label="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"
                type="email"
                {...register('email')}
                error={errors.email?.message}
              />
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <Input
                label="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"
                {...register('phone')}
                error={errors.phone?.message}
              />

              <Input
                label="ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯"
                type="date"
                {...register('dateOfBirth')}
                error={errors.dateOfBirth?.message}
              />
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Ø§Ù„Ø¬Ù†Ø³
                </label>
                <select
                  {...register('gender')}
                  className="block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"
                >
                  <option value="male">Ø°ÙƒØ±</option>
                  <option value="female">Ø£Ù†Ø«Ù‰</option>
                </select>
                {errors.gender && (
                  <p className="text-sm text-red-600 mt-1">{errors.gender.message}</p>
                )}
              </div>
            </div>

            <Input
              label="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"
              {...register('address')}
              error={errors.address?.message}
            />

            <div className="flex justify-end space-x-4">
              <Button
                type="button"
                variant="outline"
                onClick={() => reset()}
              >
                Ø¥Ù„ØºØ§Ø¡
              </Button>
              <Button
                type="submit"
                loading={isLoading}
                className="bg-primary-600 text-white"
              >
                Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
};
```

---

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

### **1. Patient Dashboard Test**

```typescript
// src/pages/patient/__tests__/Dashboard.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { PatientDashboard } from '../Dashboard';

const createTestQueryClient = () => new QueryClient({
  defaultOptions: {
    queries: { retry: false },
    mutations: { retry: false },
  },
});

describe('Patient Dashboard', () => {
  it('renders dashboard with stats cards', () => {
    const queryClient = createTestQueryClient();
    
    render(
      <QueryClientProvider client={queryClient}>
        <PatientDashboard />
      </QueryClientProvider>
    );
    
    expect(screen.getByText('Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©')).toBeInTheDocument();
    expect(screen.getByText('Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©')).toBeInTheDocument();
  });
});
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©

1. **ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: ÙˆØ§Ø¬Ù‡Ø© Ø³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ù„Ù…Ø±Ø¶Ù‰
2. **Ø§Ù„Ø£Ù…Ø§Ù†**: Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø³Ø©
3. **Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©**: ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
4. **Ø§Ù„Ø£Ø¯Ø§Ø¡**: ØªØ­Ù…ÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
5. **Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±**: Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø±ÙŠØ¶

---

*ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ù„ØªÙˆÙÙŠØ± ØªØ¬Ø±Ø¨Ø© Ù…Ø±ÙŠØ¶ Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ØªØ·ÙˆØ±Ø©*
